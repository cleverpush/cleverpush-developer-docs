<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Setup · CleverPush Developer Docs</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Installation"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Setup · CleverPush Developer Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://cleverpush.github.io/"/><meta property="og:description" content="## Installation"/><meta property="og:image" content="https://cleverpush.github.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://cleverpush.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-light.svg" alt="CleverPush Developer Docs"/><h2 class="headerTitleWithLogo">CleverPush Developer Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/" target="_self">SDK Docs</a></li><li class=""><a href="/docs/api/overview" target="_self">API Overview</a></li><li class=""><a href="https://api.cleverpush.com/" target="_self">API Reference</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Android SDK</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">JavaScript SDK<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/sdks/javascript/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/javascript/methods">Methods</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">iOS SDK<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/sdks/ios/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/ios/methods">Methods</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/ios/inbox">Inbox View</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/ios/chat">Chat</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/ios/stories">Stories</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/ios/deeplinks">Deep Links</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/ios/live-activities">Live Activities</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/ios/troubleshooting">Troubleshooting</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Android SDK<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/sdks/android/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/android/methods">Methods</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/android/extension">Notification Service Extension</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/android/inbox">Inbox View</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/android/chat">Chat</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/android/stories">Stories</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/android/deeplinks">Deep Links</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/android/troubleshooting">Troubleshooting</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/android/upgrading">Upgrading</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/android/geofencelocation">Geo Fence Location Permission</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Capacitor SDK<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/sdks/capacitor/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/capacitor/methods">Methods</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Cordova SDK<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/sdks/cordova/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/cordova/methods">Methods</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">React Native SDK<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/sdks/react-native/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/react-native/methods">Methods</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Xamarin SDK<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/sdks/xamarin/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/xamarin/methods">Methods</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Flutter SDK<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/sdks/flutter/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/flutter/methods">Methods</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/flutter/chat">Chat</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/flutter/troubleshooting">Troubleshooting</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Expo SDK<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/sdks/expo/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/sdks/expo/methods">Methods</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Setup</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="installation"></a><a href="#installation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<p><strong>Prerequisite</strong></p>
<ol>
<li>Add Firebase to your Android project. <a href="https://firebase.google.com/docs/android/setup">official docs</a></li>
<li>Get your <a href="https://developer.clevertap.com/docs/find-your-fcm-sender-id-fcm-server-api-key">FCM Sender ID &amp; FCM Server API Key</a>.</li>
<li><a href="https://cleverpush.com/en/">Login/Register</a> on CleverPush</li>
<li>Your CleverPush Channel ID, available in <code>Channels</code> &gt; <code>App Push</code> &gt; <code>Implementation</code> &gt; <code>Channel ID</code>  in the CleverPush Developer console.</li>
</ol>
<p><strong>SDK Setup</strong></p>
<p>You can find the newest sdk version number here <a href="https://github.com/cleverpush/cleverpush-android-sdk/tags">Android SDK</a></p>
<ol>
<li>Add the dependency to your app-level <code>app/build.gradle</code> file</li>
</ol>
<pre><code class="hljs css language-groovy">dependencies {
    <span class="hljs-comment">// ...</span>
    implementation <span class="hljs-string">'com.cleverpush:cleverpush:1.35.5'</span>
}
</code></pre>
<ol start="2">
<li>In the <code>onCreate</code> method of your Main activity or Application, call <code>CleverPush.getInstance(this).init(...)</code> with your CleverPush Channel ID.</li>
</ol>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-147-tab-148" class="nav-link active" data-group="group_147" data-tab="tab-group-147-content-148">Java</div><div id="tab-group-147-tab-149" class="nav-link" data-group="group_147" data-tab="tab-group-147-content-149">Kotlin</div></div><div class="tab-content"><div id="tab-group-147-content-148" class="tab-pane active" data-group="group_147" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-keyword">import</span> com.cleverpush.CleverPush;<br /><br /><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Activity</span> </span>{<br />    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{<br />        CleverPush.getInstance(<span class="hljs-keyword">this</span>).init(<span class="hljs-string">"CLEVERPUSH_CHANNEL_ID"</span>);<br />    }<br />}<br /></code></pre>
</span></div></div><div id="tab-group-147-content-149" class="tab-pane" data-group="group_147" tabindex="-1"><div><span><pre><code class="hljs css language-kotlin"><span class="hljs-keyword">import</span> com.cleverpush.CleverPush;<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span>:<span class="hljs-type">Activity</span></span>() {<br />    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState:<span class="hljs-type">Bundle</span>)</span></span> {<br />        CleverPush.getInstance(<span class="hljs-keyword">this</span>).<span class="hljs-keyword">init</span>(<span class="hljs-string">"CLEVERPUSH_CHANNEL_ID"</span>)<br />    }<br />}<br /></code></pre>
</span></div></div></div></div>
<ol start="3">
<li><p>If you didnt already do this while adding firebase to your project or you have some error logs then do/check following points</p></li>
<li><p>Put your google-services.json from firebase into the project e.g. in the app folder</p></li>
<li><p>To your project gradle add following dependency</p></li>
</ol>
<pre><code class="hljs css language-java">buildscript {
    dependencies {
        classpath <span class="hljs-string">'com.google.gms:google-services:4.3.3'</span>
    }
}
</code></pre>
<ol start="6">
<li>And add this at the end of your app gradle file</li>
</ol>
<pre><code class="hljs css language-java">apply plugin: <span class="hljs-string">'com.google.gms.google-services'</span>
googleServices { disableVersionCheck = <span class="hljs-keyword">true</span> }
</code></pre>
<p>Please note that <code>autoRegister</code> is turned to <code>true</code> in the above example. It means that the CleverPush SDK will automatically try to subscribe the user on the first launch of the app. If you call <code>unsubscribe()</code> the SDK will not automatically try to subscribe again.</p>
<h2><a class="anchor" aria-hidden="true" id="setup-hms-huawei-mobile-services"></a><a href="#setup-hms-huawei-mobile-services" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup HMS (Huawei Mobile Services)</h2>
<p>These additional steps are recommended if you want to support the newest Huawei devices. Please note that you need at least CleverPush Android SDK version 1.1.0.</p>
<p>Important: we highly recommend to set up different build flavors/variants for Huawei and Firebase, because Google will not allow any apps in the Play Store with the Huawei SDK. You can then upload the Huawei build to the Huawei AppGallery and the Firebase build to the Google Play Store.</p>
<ol>
<li><p>Create a free Huawei Developer Account and get it verified:
<a href="https://developer.huawei.com/consumer/en/console">https://developer.huawei.com/consumer/en/console</a></p></li>
<li><p>Create your app inside Huwei AppGallery Connect:
<a href="https://developer.huawei.com/consumer/en/doc/distribution/app/agc-create_app">https://developer.huawei.com/consumer/en/doc/distribution/app/agc-create_app</a></p></li>
<li><p>Enable the PushKit API:
<a href="https://developer.huawei.com/consumer/en/doc/distribution/app/agc-enable_service">https://developer.huawei.com/consumer/en/doc/distribution/app/agc-enable_service</a></p></li>
<li><p>Add the following to your project level build.gradle:</p>
<pre><code class="hljs css language-groovy">buildscript {
    repositories {
        <span class="hljs-comment">// ...</span>
        maven { url <span class="hljs-string">'http://developer.huawei.com/repo/'</span> }
    }

    dependencies {
        <span class="hljs-comment">// ...</span>
        classpath <span class="hljs-string">'com.huawei.agconnect:agcp:1.2.1.301'</span>
    }
}

allprojects {
    repositories {
        <span class="hljs-comment">// ...</span>
        maven { url <span class="hljs-string">'http://developer.huawei.com/repo/'</span> }
    }
}
</code></pre></li>
<li><p>Add the following to your app level build.gradle:</p>
<pre><code class="hljs css language-groovy">dependencies {
    <span class="hljs-comment">// ...</span>
    implementation <span class="hljs-string">'com.huawei.hms:push:4.0.3.301'</span>
}

<span class="hljs-comment">// at the bottom</span>
apply <span class="hljs-string">plugin:</span> <span class="hljs-string">"com.huawei.agconnect"</span>
</code></pre></li>
<li><p>If your App has a minSdkVersion lower than 17, please set your minSdkVersion to at least 17.</p></li>
<li><p>Copy the agconnect-services.json file from the Huawei Developer Console inside your project's app directory.</p></li>
</ol>
<p><img src="https://developer.huawei.com/consumer/en/codelab/HMSPushKit/img/e3ba1922aeb8774c.png" alt=""></p>
<p><img src="https://developer.huawei.com/consumer/en/codelab/HMSPushKit/img/1c8d1d055360d1a7.PNG" alt=""></p>
<ol start="8">
<li>Enter the App ID + App Secret in the CleverPush Channel settings.</li>
</ol>
<p><img src="https://cleverpush.zendesk.com/hc/article_attachments/360013127159/Bildschirmfoto_2020-06-13_um_13.21.40.png" alt=""></p>
<h2><a class="anchor" aria-hidden="true" id="proguard"></a><a href="#proguard" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Proguard</h2>
<pre><code class="hljs css language-java">-keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">cleverpush</span>.** </span>{ *; }
-keep <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">com</span>.<span class="hljs-title">cleverpush</span>.** </span>{ *; }
-keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">firebase</span>.** </span>{ *; }
-keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">google</span>.<span class="hljs-title">firebase</span>.** </span>{ *; }
-keep <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">com</span>.<span class="hljs-title">google</span>.<span class="hljs-title">gson</span>.<span class="hljs-title">internal</span>.<span class="hljs-title">LinkedTreeMap</span> </span>{ *; }
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="custom-sounds"></a><a href="#custom-sounds" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom sounds</h2>
<p>Android supports <code>mp3</code>, <code>wav</code> and <code>ogg</code> audio files.</p>
<ol>
<li>Add the sound file(s) to the <code>res/raw</code> directory.</li>
<li>When sending a notification you can enter the filename (with extension) in the field &quot;Sound&quot; in the advanced settings.</li>
<li>If you send notifications via the API you can use the parameter &quot;soundFilename&quot;.</li>
</ol>
<p><img src="https://i.ibb.co/nssvMNk/Screenshot-2021-04-02-at-12-40-24-PM.png" alt=""></p>
<h2><a class="anchor" aria-hidden="true" id="badge-icon"></a><a href="#badge-icon" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Badge icon</h2>
<p>You can place your custom badge icon with the correct sizes in this folders, then the SDK will automatically use it:</p>
<pre><code class="hljs"><span class="hljs-string">/drawable-</span>[SIZE]<span class="hljs-string">/cleverpush_notification_icon.png</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="notification-open-behaviour"></a><a href="#notification-open-behaviour" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notification open behaviour</h2>
<p>You can add the following meta-data option to your AndroidManifest.xml file to prevent our SDK from launching any activity when a notification is opened.</p>
<p>When the app is in the background or killed state, clicking the notification will not open the application. It will neither call the SDK's launcher activity nor any custom launcher activity.</p>
<p>This meta-data option is used to prevent the app from opening when a notification is clicked.</p>
<p>If you want to open a custom activity when a notification is clicked, do not use this meta-data option. Instead, refer to: <a href="https://developers.cleverpush.com/docs/sdks/android/methods#set-custom-notification-activity-enabled">Set Custom Notification Activity</a>.</p>
<p>To prevent our SDK from launching the default launcher activity when a notification is opened, add the following to your AndroidManifest.xml file:</p>
<pre><code class="hljs">&lt;meta-data <span class="hljs-string">android:</span>name=<span class="hljs-string">"com.cleverpush.notification_open_activity_disabled"</span> <span class="hljs-string">android:</span>value=<span class="hljs-string">"true"</span> /&gt;
</code></pre>
<p>This can be used in combination with the NotificationOpenedCallbackListener, allowing you to decide when to finish the NotificationOpenedActivity.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-150-tab-151" class="nav-link active" data-group="group_150" data-tab="tab-group-150-content-151">Java</div><div id="tab-group-150-tab-152" class="nav-link" data-group="group_150" data-tab="tab-group-150-content-152">Kotlin</div></div><div class="tab-content"><div id="tab-group-150-content-151" class="tab-pane active" data-group="group_150" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">notificationOpenedCallback</span><span class="hljs-params">(NotificationOpenedResult result, Activity notificationOpenedActivity)</span> </span>{<br />    System.out.println(<span class="hljs-string">"Opened CleverPush Notification: "</span> + result.getNotification().getTitle());<br />    <span class="hljs-comment">// Add your custom code here and afterwards call:</span><br />    notificationOpenedActivity.finish();<br />}<br /></code></pre>
</span></div></div><div id="tab-group-150-content-152" class="tab-pane" data-group="group_150" tabindex="-1"><div><span><pre><code class="hljs css language-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">notificationOpenedCallback</span><span class="hljs-params">(result: <span class="hljs-type">NotificationOpenedResult</span>, notificationOpenedActivity: <span class="hljs-type">Activity</span>)</span></span> {<br />  println(<span class="hljs-string">"Opened CleverPush Notification: <span class="hljs-subst">${result.notification.title}</span>"</span>)<br />  <span class="hljs-comment">// Add your custom code here and afterwards call:</span><br />  notificationOpenedActivity.finish()<br />}<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="notification-appearance-customization"></a><a href="#notification-appearance-customization" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notification appearance customization</h2>
<p>You can add the following meta-data options to your AndroidManifest.xml file to customize the default appearance of notifications sent through the CleverPush SDK.</p>
<p>These meta-data options allow you to set a default notification icon and a custom notification color.</p>
<p>If you want to customize how your notifications look, you can use the following meta-data entries:</p>
<h3><a class="anchor" aria-hidden="true" id="set-custom-notification-icon"></a><a href="#set-custom-notification-icon" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set Custom Notification Icon</h3>
<p>You can define a custom notification icon that will be used by the CleverPush SDK for all push notifications.</p>
<h4><a class="anchor" aria-hidden="true" id="file-based"></a><a href="#file-based" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>File-based</h4>
<p>The image must be named: <code>cleverpush_notification_icon</code></p>
<p>The SDK will automatically use this icon if it's found with the correct name.</p>
<p>Place your custom icon image in the appropriate drawable resource folders:</p>
<pre><code class="hljs css language-bash">/res/drawable-[dpi]/cleverpush_notification_icon.png
</code></pre>
<p>Examples:</p>
<pre><code class="hljs css language-bash">/res/drawable-mdpi/cleverpush_notification_icon.png
/res/drawable-hdpi/cleverpush_notification_icon.png
/res/drawable-xhdpi/cleverpush_notification_icon.png
/res/drawable-xxhdpi/cleverpush_notification_icon.png
/res/drawable-xxxhdpi/cleverpush_notification_icon.png
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="meta-data-based"></a><a href="#meta-data-based" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Meta-data Based</h4>
<p>This meta-data option allows you to set a default icon for all notifications.</p>
<p>Add the following inside the <application> tag in your AndroidManifest.xml file:</p>
<pre><code class="hljs">&lt;meta-<span class="hljs-class"><span class="hljs-keyword">data</span></span>
  android:name=<span class="hljs-string">"com.cleverpush.default_notification_icon"</span>
  android:resource=<span class="hljs-string">"@drawable/push_icon"</span> /&gt;
</code></pre>
<p>Replace @drawable/push_icon with your custom icon.</p>
<h3><a class="anchor" aria-hidden="true" id="set-custom-notification-color"></a><a href="#set-custom-notification-color" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set Custom Notification Color</h3>
<p>This meta-data option allows you to set a custom color for your notifications.</p>
<p>Add the following inside the <application> tag in your AndroidManifest.xml file:</p>
<pre><code class="hljs">&lt;meta-<span class="hljs-class"><span class="hljs-keyword">data</span></span>
  android:name=<span class="hljs-string">"com.cleverpush.default_notification_color"</span>
  android:resource=<span class="hljs-string">"@color/notification_color"</span> /&gt;
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="notification-icon"></a><a href="#notification-icon" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notification Icon</h2>
<p>Android provides several options for setting up icons which this guide details in full.</p>
<p>Android provides two types of notification icons: Small and Large. The CleverPush SDK supports customization of both to match your app style.</p>
<p>Android supports both Small and Large Notification Icons.</p>
<p><img src="https://raw.githubusercontent.com/cleverpush/cleverpush-developer-docs/refs/heads/master/static/img/sdks/android_push_icon.png" alt=""></p>
<h3><a class="anchor" aria-hidden="true" id="small-notification-icons"></a><a href="#small-notification-icons" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Small notification icons</h3>
<p>The small icon is shown in the status bar and next to the notification content. By default, CleverPush uses a bell icon.</p>
<p>You can customize the small icon using either of the following methods:</p>
<p><strong>File-based</strong></p>
<p>Place an icon file named <code>cleverpush_notification_icon</code> into the appropriate drawable folders:</p>
<pre><code class="hljs css language-bash">/res/drawable-[dpi]/cleverpush_notification_icon.png
</code></pre>
<p><strong>Meta-data Based</strong></p>
<p>Alternatively, you can specify a custom icon using a meta-data entry in your AndroidManifest.xml:</p>
<pre><code class="hljs">&lt;meta-<span class="hljs-class"><span class="hljs-keyword">data</span></span>
  android:name=<span class="hljs-string">"com.cleverpush.default_notification_icon"</span>
  android:resource=<span class="hljs-string">"@drawable/push_icon"</span> /&gt;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="large-notification-icons"></a><a href="#large-notification-icons" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Large notification icons</h3>
<p>The large notification icon will show up to the left of the notification text on Android 4.0.3 - 6.0 devices and to the right for Android 7.0+ devices.</p>
<p>You can set large icon from Create new -&gt; Icon.</p>
<p>If you do not set a large icon, channel icon from dashborad will be used instead, if there is no channel icon set in CleverPush dashboard then it will not display large icon.</p>
<h2><a class="anchor" aria-hidden="true" id="notification-category-channel"></a><a href="#notification-category-channel" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notification Category (Channel)</h2>
<p>By default, if you send a push notification without selecting a category, it will be delivered via the SDK's default channel, using IMPORTANCE_DEFAULT and the device's default notification sound.</p>
<p>Using notification categories, you can create custom notification channels with personalized settings—such as importance level, sound, and vibration behavior, etc.</p>
<h3><a class="anchor" aria-hidden="true" id="send-notifications-with-pop-up-sound--vibration-or-silent-mode"></a><a href="#send-notifications-with-pop-up-sound--vibration-or-silent-mode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Send Notifications with Pop-up, Sound &amp; Vibration, or Silent Mode</h3>
<p>If you want to send notifications as a pop-up, with sound and vibration, or silently with vibration only, you can set a category when creating a push notification.</p>
<p>By default, if you create a push notification without selecting a category, it will be displayed in the status bar with sound.</p>
<p>You can also set a default category in the <code>General Settings</code> to avoid selecting a category manually every time you create a push notification.</p>
<p><img src="https://static.cleverpush.com/notification/icon/WiiWotRb7NgB9S4tK.png" alt="Default_Category"></p>
<p>To customize the notification behavior, you can create a category and set the Importance level as follows:</p>
<p><code>Urgent/High</code> – Displays a high-priority pop-up notification with sound and vibration.</p>
<p><code>Medium</code> – Displays the notification with sound and vibration, but without a pop-up.</p>
<p><code>Low</code> – Displays the notification without sound.</p>
<p><img src="https://static.cleverpush.com/notification/icon/Muzg6n6n7ZDWAbh3i.png" alt="Category"></p>
<h3><a class="anchor" aria-hidden="true" id="enable-or-disable-notification-badges"></a><a href="#enable-or-disable-notification-badges" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable or Disable Notification Badges</h3>
<p>You can control whether a notification displays a badge by assigning a category when creating the push notification.</p>
<p>When setting up a notification category, you can choose to Enable or Disable badge display. This determines whether the app icon badge count or dot will be shown for notifications in that category.</p>
<p>By default, if you create a push notification without selecting a category, the badge will be displayed.</p>
<p><img src="https://static-mobile.cleverpush.com/app-banner/icon/rF7qzLg4EAi9RQgCD.png" alt="Badge"></p>
<h3><a class="anchor" aria-hidden="true" id="set-custom-sound-for-notification"></a><a href="#set-custom-sound-for-notification" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set Custom Sound for Notification</h3>
<p>To send a notification with a <strong>custom sound</strong>, you need to configure it through a <strong>notification category</strong>.</p>
<ol>
<li><strong>Select</strong> a category when creating your push notification.</li>
<li>In notification category, in the <strong>Sound</strong> dropdown, choose <strong>Custom</strong>.</li>
<li>In the <strong>Sound Name</strong> field, enter the name of your custom sound file (without the file extension).</li>
</ol>
<blockquote>
<p><strong>Example</strong>: If your file is named <code>custom_notification.mp3</code>, enter <code>custom_notification</code> in the Sound Name field.</p>
</blockquote>
<ol start="4">
<li>Place the sound file in your app’s <code>res/raw</code> directory.</li>
</ol>
<blockquote>
<p>📁 <code>app/src/main/res/raw/custom_notification.mp3</code></p>
</blockquote>
<p>Once configured, any push notification sent using this category will play the custom sound.</p>
<p><img src="https://static-mobile.cleverpush.com/app-banner/icon/fBHPJdZohDXJ54Gt3.png" alt="Res_Raw"></p>
<p><img src="https://static-mobile.cleverpush.com/app-banner/icon/P5FG6nQcAPGGFRsc2.png" alt="Push_Category_Sound"></p>
<h2><a class="anchor" aria-hidden="true" id="badges"></a><a href="#badges" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Badges</h2>
<p>Unlike iOS, Android does not provide a native API to manually set or update the badge count on the app icon.</p>
<p>The badge count is typically updated only when the device receives a notification. Without a notification, the badge count will not change.</p>
<p>Some Android devices (e.g., Samsung, Xiaomi, Oppo) support numeric badge counts, while others (e.g., Google Pixel) show only a notification dot. The behavior varies based on the OEM (Original Equipment Manufacturer).</p>
<p>You can't update the badge count without sending a notification. However, you can send a silent notification (without sound/vibration) to update the count.</p>
<p>A silent notification is a type of notification that:</p>
<ul>
<li>Does not play a sound</li>
<li>Does not vibrate the device</li>
<li>Does not show a heads-up notification (popup on the screen)</li>
<li>But still appears in the status bar and notification shade</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="badge-counts"></a><a href="#badge-counts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Badge Counts</h2>
<p>Disable automatic clearing of badge count when opening a notification. Enabled by default.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-153-tab-154" class="nav-link active" data-group="group_153" data-tab="tab-group-153-content-154">Java</div><div id="tab-group-153-tab-155" class="nav-link" data-group="group_153" data-tab="tab-group-153-content-155">Kotlin</div></div><div class="tab-content"><div id="tab-group-153-content-154" class="tab-pane active" data-group="group_153" tabindex="-1"><div><span><pre><code class="hljs css language-java">CleverPush.getInstance(<span class="hljs-keyword">this</span>).setAutoClearBadge(<span class="hljs-keyword">false</span>);<br /></code></pre>
</span></div></div><div id="tab-group-153-content-155" class="tab-pane" data-group="group_153" tabindex="-1"><div><span><pre><code class="hljs css language-kotlin">CleverPush.getInstance(<span class="hljs-keyword">this</span>).setAutoClearBadge(<span class="hljs-literal">false</span>)<br /></code></pre>
</span></div></div></div></div>
<p>Enable automatic incrementation of badge count. Disabled by default.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-156-tab-157" class="nav-link active" data-group="group_156" data-tab="tab-group-156-content-157">Java</div><div id="tab-group-156-tab-158" class="nav-link" data-group="group_156" data-tab="tab-group-156-content-158">Kotlin</div></div><div class="tab-content"><div id="tab-group-156-content-157" class="tab-pane active" data-group="group_156" tabindex="-1"><div><span><pre><code class="hljs css language-java">CleverPush.getInstance(<span class="hljs-keyword">this</span>).setIncrementBadge(<span class="hljs-keyword">true</span>);<br /></code></pre>
</span></div></div><div id="tab-group-156-content-158" class="tab-pane" data-group="group_156" tabindex="-1"><div><span><pre><code class="hljs css language-kotlin">CleverPush.getInstance(<span class="hljs-keyword">this</span>).setIncrementBadge(<span class="hljs-literal">true</span>)<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="notification-permission"></a><a href="#notification-permission" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notification permission</h2>
<p>By default, the SDK automatically unsubscribes users who have revoked their notification permission in the Android settings.
Sometimes it still makes sense to subscribe those users (e.g. for silent notifications). You can disable this behaviour with this method call (before init).</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-159-tab-160" class="nav-link active" data-group="group_159" data-tab="tab-group-159-content-160">Java</div><div id="tab-group-159-tab-161" class="nav-link" data-group="group_159" data-tab="tab-group-159-content-161">Kotlin</div></div><div class="tab-content"><div id="tab-group-159-content-160" class="tab-pane active" data-group="group_159" tabindex="-1"><div><span><pre><code class="hljs css language-java">CleverPush.getInstance(<span class="hljs-keyword">this</span>).setIgnoreDisabledNotificationPermission(<span class="hljs-keyword">true</span>);<br /></code></pre>
</span></div></div><div id="tab-group-159-content-161" class="tab-pane" data-group="group_159" tabindex="-1"><div><span><pre><code class="hljs css language-kotlin">CleverPush.getInstance(<span class="hljs-keyword">this</span>).setIgnoreDisabledNotificationPermission(<span class="hljs-literal">true</span>)<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="using-cleverpush-together-with-other-firebasemessagingservices"></a><a href="#using-cleverpush-together-with-other-firebasemessagingservices" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using CleverPush together with other FirebaseMessagingServices</h2>
<p>As it is only possible to have one FirebaseMessagingService registered at the same time, we recommend the following code. The CleverPush FCM Service will only process CleverPush notifications and ignore all other messages.</p>
<p>Create the <code>FirebaseMessagingServiceProxy</code> class:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-162-tab-163" class="nav-link active" data-group="group_162" data-tab="tab-group-162-content-163">Java</div><div id="tab-group-162-tab-164" class="nav-link" data-group="group_162" data-tab="tab-group-162-content-164">Kotlin</div></div><div class="tab-content"><div id="tab-group-162-content-163" class="tab-pane active" data-group="group_162" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-keyword">import</span> androidx.annotation.NonNull;<br /><br /><span class="hljs-keyword">import</span> com.cleverpush.service.CleverPushFcmListenerService;<br /><span class="hljs-keyword">import</span> com.google.firebase.messaging.FirebaseMessagingService;<br /><span class="hljs-keyword">import</span> com.google.firebase.messaging.RemoteMessage;<br /><br /><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br /><span class="hljs-keyword">import</span> java.util.ArrayList;<br /><span class="hljs-keyword">import</span> java.util.List;<br /><br /><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FirebaseMessagingServiceProxy</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FirebaseMessagingService</span> </span>{<br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;FirebaseMessagingService&gt; messagingServices = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;(<span class="hljs-number">2</span>);<br /><br />    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">FirebaseMessagingServiceProxy</span><span class="hljs-params">()</span> </span>{<br />        messagingServices.add(<span class="hljs-keyword">new</span> CleverPushFcmListenerService());<br />        <span class="hljs-comment">// Add any other FirebaseMessagingServices here</span><br />        messagingServices.add(<span class="hljs-keyword">new</span> CustomFirebaseMessagingService());<br />    }<br /><br />    <span class="hljs-meta">@Override</span><br />    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onNewToken</span><span class="hljs-params">(@NonNull String token)</span> </span>{<br />        delegate(service -&gt; {<br />            injectContext(service);<br />            service.onNewToken(token);<br />        });<br />    }<br /><br />    <span class="hljs-meta">@Override</span><br />    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onMessageReceived</span><span class="hljs-params">(@NonNull RemoteMessage remoteMessage)</span> </span>{<br />        delegate(service -&gt; {<br />            injectContext(service);<br />            service.onMessageReceived(remoteMessage);<br />        });<br />    }<br /><br />    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delegate</span><span class="hljs-params">(CPAction&lt;FirebaseMessagingService&gt; action)</span> </span>{<br />        <span class="hljs-keyword">for</span> (FirebaseMessagingService service : messagingServices) {<br />            action.run(service);<br />        }<br />    }<br /><br />    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">injectContext</span><span class="hljs-params">(FirebaseMessagingService service)</span> </span>{<br />        setField(service, <span class="hljs-string">"mBase"</span>, <span class="hljs-keyword">this</span>);<br />    }<br /><br />    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">setField</span><span class="hljs-params">(Object targetObject, String fieldName, Object fieldValue)</span> </span>{<br />        Field field;<br />        <span class="hljs-keyword">try</span> {<br />            field = targetObject.getClass().getDeclaredField(fieldName);<br />        } <span class="hljs-keyword">catch</span> (NoSuchFieldException e) {<br />            field = <span class="hljs-keyword">null</span>;<br />        }<br />        Class superClass = targetObject.getClass().getSuperclass();<br />        <span class="hljs-keyword">while</span> (field == <span class="hljs-keyword">null</span> &amp;&amp; superClass != <span class="hljs-keyword">null</span>) {<br />            <span class="hljs-keyword">try</span> {<br />                field = superClass.getDeclaredField(fieldName);<br />            } <span class="hljs-keyword">catch</span> (NoSuchFieldException e) {<br />                superClass = superClass.getSuperclass();<br />            }<br />        }<br />        <span class="hljs-keyword">if</span> (field == <span class="hljs-keyword">null</span>) {<br />            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br />        }<br />        field.setAccessible(<span class="hljs-keyword">true</span>);<br />        <span class="hljs-keyword">try</span> {<br />            field.set(targetObject, fieldValue);<br />            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br />        } <span class="hljs-keyword">catch</span> (IllegalAccessException e) {<br />            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br />        }<br />    }<br /><br />    <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CPAction</span>&lt;<span class="hljs-title">T</span>&gt; </span>{<br />        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">(T t)</span></span>;<br />    }<br />}<br /></code></pre>
</span></div></div><div id="tab-group-162-content-164" class="tab-pane" data-group="group_162" tabindex="-1"><div><span><pre><code class="hljs css language-kotlin"><span class="hljs-keyword">import</span> androidx.<span class="hljs-keyword">annotation</span>.NonNull<br /><span class="hljs-keyword">import</span> com.cleverpush.service.CleverPushFcmListenerService<br /><span class="hljs-keyword">import</span> com.google.firebase.messaging.FirebaseMessagingService<br /><span class="hljs-keyword">import</span> com.google.firebase.messaging.RemoteMessage<br /><span class="hljs-keyword">import</span> java.lang.reflect.Field<br /><br /><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FirebaseMessagingServiceProxy</span> : <span class="hljs-type">FirebaseMessagingService</span></span>() {<br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> messagingServices = listOf&lt;CleverPushFcmListenerService&gt;(<br />        CleverPushFcmListenerService(),<br />        <span class="hljs-comment">// Add any other FirebaseMessagingServices here</span><br />        CustomFirebaseMessagingService()<br />    )<br /><br />    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onNewToken</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> token: <span class="hljs-type">String</span>)</span></span> {<br />        delegate { service -&gt;<br />            injectContext(service)<br />            service.onNewToken(token)<br />        }<br />    }<br /><br />    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onMessageReceived</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> remoteMessage: <span class="hljs-type">RemoteMessage</span>)</span></span> {<br />        delegate { service -&gt;<br />            injectContext(service)<br />            service.onMessageReceived(remoteMessage)<br />        }<br />    }<br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">delegate</span><span class="hljs-params">(action: (<span class="hljs-type">FirebaseMessagingService</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {<br />        messagingServices.forEach(action)<br />    }<br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">injectContext</span><span class="hljs-params">(service: <span class="hljs-type">FirebaseMessagingService</span>)</span></span> {<br />        setField(service, <span class="hljs-string">"mBase"</span>, <span class="hljs-keyword">this</span>)<br />    }<br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setField</span><span class="hljs-params">(targetObject: <span class="hljs-type">Any</span>, fieldName: <span class="hljs-type">String</span>, fieldValue: <span class="hljs-type">Any</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {<br />        <span class="hljs-keyword">var</span> field: Field? = <span class="hljs-literal">null</span><br />        <span class="hljs-keyword">try</span> {<br />            field = targetObject.javaClass.getDeclaredField(fieldName)<br />        } <span class="hljs-keyword">catch</span> (e: NoSuchFieldException) {<br />            <span class="hljs-keyword">var</span> superClass: Class&lt;*&gt;? = targetObject.javaClass.superclass<br />            <span class="hljs-keyword">while</span> (field == <span class="hljs-literal">null</span> &amp;&amp; superClass != <span class="hljs-literal">null</span>) {<br />                <span class="hljs-keyword">try</span> {<br />                    field = superClass.getDeclaredField(fieldName)<br />                } <span class="hljs-keyword">catch</span> (e: NoSuchFieldException) {<br />                    superClass = superClass.superclass<br />                }<br />            }<br />        }<br />        <span class="hljs-keyword">if</span> (field == <span class="hljs-literal">null</span>) {<br />            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br />        }<br />        field.isAccessible = <span class="hljs-literal">true</span><br />        <span class="hljs-keyword">try</span> {<br />            field.<span class="hljs-keyword">set</span>(targetObject, fieldValue)<br />            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br />        } <span class="hljs-keyword">catch</span> (e: IllegalAccessException) {<br />            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br />        }<br />    }<br />}<br /></code></pre>
</span></div></div></div></div>
<p>Add this to your AndroidManifest.xml inside the <code>&lt;application&gt;</code> tag:</p>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">service</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".FirebaseMessagingServiceProxy"</span>
    <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"false"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.google.firebase.MESSAGING_EVENT"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span>
</code></pre>
<p>If you're only looking to customize the incoming CleverPush notifications, please look at the &quot;Notification Service Extension&quot; in the left menu.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/sdks/ios/changelog"><span class="arrow-prev">← </span><span>Previous</span></a><a class="docs-next button" href="/docs/sdks/android/methods"><span>Methods</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#installation">Installation</a></li><li><a href="#setup-hms-huawei-mobile-services">Setup HMS (Huawei Mobile Services)</a></li><li><a href="#proguard">Proguard</a></li><li><a href="#custom-sounds">Custom sounds</a></li><li><a href="#badge-icon">Badge icon</a></li><li><a href="#notification-open-behaviour">Notification open behaviour</a></li><li><a href="#notification-appearance-customization">Notification appearance customization</a><ul class="toc-headings"><li><a href="#set-custom-notification-icon">Set Custom Notification Icon</a></li><li><a href="#set-custom-notification-color">Set Custom Notification Color</a></li></ul></li><li><a href="#notification-icon">Notification Icon</a><ul class="toc-headings"><li><a href="#small-notification-icons">Small notification icons</a></li><li><a href="#large-notification-icons">Large notification icons</a></li></ul></li><li><a href="#notification-category-channel">Notification Category (Channel)</a><ul class="toc-headings"><li><a href="#send-notifications-with-pop-up-sound--vibration-or-silent-mode">Send Notifications with Pop-up, Sound &amp; Vibration, or Silent Mode</a></li><li><a href="#enable-or-disable-notification-badges">Enable or Disable Notification Badges</a></li><li><a href="#set-custom-sound-for-notification">Set Custom Sound for Notification</a></li></ul></li><li><a href="#badges">Badges</a></li><li><a href="#badge-counts">Badge Counts</a></li><li><a href="#notification-permission">Notification permission</a></li><li><a href="#using-cleverpush-together-with-other-firebasemessagingservices">Using CleverPush together with other FirebaseMessagingServices</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>SDKs</h5><a href="/docs/sdks/javascript/setup">JavaScript</a><a href="/docs/sdks/ios/setup">iOS</a><a href="/docs/sdks/android/setup">Android</a><a href="/docs/sdks/cordova/setup">Cordova</a><a href="/docs/sdks/capacitor/setup">Capacitor</a><a href="/docs/sdks/react-native/setup">React Native</a><a href="/docs/sdks/xamarin/setup">Xamarin</a><a href="/docs/sdks/expo/setup">Expo</a><a href="/docs/sdks/flutter/setup">Flutter</a></div><div><h5>Community</h5><a href="https://twitter.com/cleverpush_com" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://facebook.com/cleverpush" target="_blank" rel="noreferrer noopener">Facebook</a><a href="https://github.com/cleverpush" target="_blank">GitHub</a></div><div><h5>More</h5><a href="https://api.cleverpush.com/" target="_blank">API Reference</a><a href="/docs/api/overview" target="_blank">API Overview</a><a href="https://cleverpush.com/blog" target="_blank">Blog</a><a href="https://cleverpush.com/imprint" target="_blank">Imprint</a><a href="https://cleverpush.com/privacy" target="_blank">Privacy Policy</a><a href="https://cleverpush.com/terms" target="_blank">Terms of service</a><a href="https://cleverpush.com/gdpr" target="_blank">GDPR</a></div></section><section class="copyright">Copyright © 2025 CleverPush</section></footer></div></body></html>